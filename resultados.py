# ------------------------------------------------------------------------------
# FORMULATOR ‚Äì Uso exclusivo de Iv√°n Navarro
# Todos los derechos reservados ¬© 2025
# Este archivo forma parte de un software no libre y no est√° autorizado su uso
# ni distribuci√≥n sin consentimiento expreso y por escrito del autor.
# ------------------------------------------------------------------------------


import streamlit as st
from formula_resultados import calcular_resultado_formula

def mostrar_resultados(df_editado, columnas_composicion):
    st.subheader("üìä Resultados")

    precio, composicion = calcular_resultado_formula(df_editado, columnas_composicion)
    st.success(f"üí∞ Precio por kg de la f√≥rmula: {precio:.2f} ‚Ç¨")

    composicion = composicion[composicion.index != ""]

    if not composicion.empty:
        composicion_formateada = composicion.reset_index()
        composicion_formateada.columns = ["Par√°metro", "% p/p"]
        st.markdown(composicion_formateada.to_html(index=False), unsafe_allow_html=True)
    else:
        st.info("No hay par√°metros con cantidad > 0% en la f√≥rmula.")
